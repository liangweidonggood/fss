# 用户编码规范与重构指南

## 1. 交互与基础规范
- **中文优先**：回答和代码关键注释均使用中文。
- **代码颗粒度**：生成代码超20行时，应考虑聚合逻辑或拆分函数。
- **通用规范**：
  - 避免深层嵌套，优先使用卫语句（提前返回）。
  - 减少不必要的对象克隆；使用适当的并发控制。

## 2. 代码坏味道与重构 (Martin Fowler)
- **命名与结构**：
  - **神秘命名**：重命名为自解释名称。
  - **重复代码**：提取为函数或类。
  - **过长函数/类**：按职责拆分为小函数/新类。
  - **过长参数列**：引入参数对象封装。
- **对象与数据**：
  - **数据泥团**：将常同现的数据提取为对象（如起止时间）。
  - **基本类型偏执**：用专用对象（如PhoneNumber）取代基本类型。
  - **依恋情结**：将函数移到它主要使用的数据所属的类中。
- **耦合治理**：
  - **发散式变化**（一个类因多种原因修改）：拆分类。
  - **霰弹式修改**（一个修改触及多个类）：合并相关逻辑到一处。

## 3. 质量保障原则
- **过程**：小步重构，改动即测试；保持代码随时可用。
- **可读性**：
  - 命名拒绝缩写（常规如 `i` 除外）。
  - 注释重在解释“为什么”而非“做什么”。
- **性能**：
  - 避免重复计算，延迟加载。
  - 关注内存泄漏与线程安全。

## 4. 技术架构
1.前端打包工具：Vite
2.前端框架：React 19
3.前端样式：UnoCSS
4.前端组件库：Ant Design
5.前端状态管理：Redux Toolkit
6.包管理工具：pnpm
7.js 运行时：Node.js 22.21.1+
8.始终使用typescript